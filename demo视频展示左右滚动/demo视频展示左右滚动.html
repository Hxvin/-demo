<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title> </title>
<link href="style.css" rel="stylesheet" type="text/css" />
<script src="scripts/jquery-1.3.1.js" type="text/javascript"></script>
<script>
	$(function(){
	var page = 1;
	var i= 4;
	$("span.next").click(function(){   //向右的按钮  绑定click事件
		var parent =$(this).parents("div.v_show")         //取div.v_show的父元素 也就是body
		var vshow = parent.find("div.v_content_list");  // body中找视频list内容
		var vcontent= parent.find("div.v_content");     //body中找整个视频区
       var vwidth=vcontent.width();            //取变量为视频区长度
       var len =vshow.find("li").length;      //去变量为所有li的长度
	   var page_count=Math.ceil(len/i);       //设置每4个li内容为一个版面，如果不是整数则往大的方向四舍五入的整数
	   if(!vshow.is(":animated")){       //如果视频展示的内容不在动画状态
		   if(page == page_count){             //如果页面数等于页面整数
		   vshow.animate({left:'0px'},"normal"); //则跳到内容的最左端
		   page=1;                                    //页码为1
	   }else{                  
          vshow.animate({left:'-='+vwidth},"normal"); //否则页面每次往右移动一页 (‘-=’+width意思是该元素往左移动width长度，左减右加)
		  page++;    //页面数加一
	   }
	   }
        parent.find("span").eq((page-1)).addClass("current").siblings().removeClass("current"); //跟着页码添加高亮圆点，同事去除其他高亮圆点

	   });

		$("span.prev").click(function(){   //向左的按钮  （同理）
		var parent =$(this).parents("div.v_show")
		var vshow = parent.find("div.v_content_list");
		var vcontent= parent.find("div.v_content");
       var vwidth=vcontent.width();
       var len =vshow.find("li").length;
	   var page_count=Math.ceil(len/i);
	   if(!vshow.is(":animated")){
		   if(page == 1){    //在第一个页面时
		   vshow.animate({left:'-='+vwidth*(page_count-1)},"normal");  //向左移动页码数为总页码-1的的页面
		   	page = page_count;       //此时页码为最大页码
	   }else{
          vshow.animate({ left : '+='+vwidth }, "normal"); //每次向左移动一页
		  page--;
	   }
	   }
        parent.find("span").eq((page-1)).addClass("current").siblings().removeClass("current");
	   });
	});
</script>
</head>
<body>

<div class="v_show">
	<div class="v_caption">
		<h2 class="cartoon" title="卡通漫画">卡通动漫</h2>
		<div class="highlight_tip">
			<span class="current">1</span>
			<span>2</span>
			<span>3</span>
			<span>4</span>
		</div>

		<div class="change_btn">
			<span class="prev" >上一页</span>
			<span class="next">下一页</span>
		</div>

		<em><a href="#">更多>></a></em>
	</div>
	<div class="v_content">
		<div  class="v_content_list">
		<ul>
	<li><a href="#"><img src="img/01.jpg" alt="海贼王"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/01.jpg" alt="海贼王"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/01.jpg" alt="海贼王"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/01.jpg" alt="海贼王"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/02.jpg" alt="哆啦A梦"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/03.jpg" alt="火影忍者"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/03.jpg" alt="火影忍者"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/03.jpg" alt="火影忍者"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/03.jpg" alt="火影忍者"></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
	<li><a href="#"><img src="img/04.jpg" alt="龙珠">   </a><h4><a href="#">龙珠</a></h4><span>播放:<em>57,865</em></span></li>
	<li><a href="#"><img src="img/04.jpg" alt="龙珠">   </a><h4><a href="#">龙珠</a></h4><span>播放:<em>57,865</em></span></li>
	<li><a href="#"><img src="img/04.jpg" alt="龙珠">   </a><h4><a href="#">龙珠</a></h4><span>播放:<em>57,865</em></span></li>
	<li><a href="#"><img src="img/04.jpg" alt="龙珠">   </a><h4><a href="#">龙珠</a></h4><span>播放:<em>57,865</em></span></li>
</ul>
		</div>
</div>




</div>


</body>
</html>